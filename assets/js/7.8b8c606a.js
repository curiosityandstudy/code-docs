(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{43:function(e,v,a){"use strict";a.r(v);var t=a(0),_=Object(t.a)({},function(){var e=this,v=e.$createElement,a=e._self._c||v;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"aws"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws","aria-hidden":"true"}},[e._v("#")]),e._v(" AWS")]),e._v(" "),a("h2",{attrs:{id:"网络"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络","aria-hidden":"true"}},[e._v("#")]),e._v(" 网络")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("两个VPC，"),a("code",[e._v("prod-vpc")]),e._v(" 用于 "),a("code",[e._v("production")]),e._v(" 环境，"),a("code",[e._v("dev-vpc")]),e._v(" 用于开发测试环境。")])]),e._v(" "),a("li",[a("p",[e._v("大部分服务器都在 "),a("code",[e._v("private subnet")]),e._v(" 下，不对外开放。内部服务器通过 "),a("code",[e._v("load balancer")]),e._v(" 对外提供服务，或者通过自己搭建的 "),a("code",[e._v("proxy")]),e._v(" 服务器提供服务。")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("private subnet")]),e._v(" 内服务器需要访问外部网络资源则通过 "),a("code",[e._v("nat gateway")]),e._v("，外部无法直接访问到 "),a("code",[e._v("private subnet")]),e._v(" 下的资源。")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("public subnet")]),e._v(" 连的是 "),a("code",[e._v("internate gateway")]),e._v("，直接跟外部连接。查看 "),a("code",[e._v("Subnets > [Choose item] > Route table")]),e._v("。"),a("code",[e._v("load balancer")]),e._v(" 和 "),a("code",[e._v("proxy")]),e._v(" 服务器在此网络下。")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("subnet")]),e._v(" 命名示例: "),a("code",[e._v("[dev]public us-west-2a")]),e._v("，"),a("code",[e._v("[prod]private us-west-2a")]),e._v("。")])])]),e._v(" "),a("h2",{attrs:{id:"ec2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ec2","aria-hidden":"true"}},[e._v("#")]),e._v(" EC2")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("统一使用 "),a("code",[e._v("Amazon Linux")]),e._v("。")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("EC2 Instance")]),e._v(" 命名示例: "),a("code",[e._v("[dev]codedocs-test")]),e._v("，"),a("code",[e._v("[prod]codedocs-api")]),e._v("。")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("Security Group")]),e._v(" 命名示例: "),a("code",[e._v("[dev]allow-all-traffic")]),e._v("，"),a("code",[e._v("[prod]mysql")]),e._v("，"),a("code",[e._v("[prod]load-balancer")]),e._v("，"),a("code",[e._v("[prod]api-server")]),e._v("。")])])]),e._v(" "),a("h2",{attrs:{id:"ssl证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssl证书","aria-hidden":"true"}},[e._v("#")]),e._v(" SSL证书")]),e._v(" "),a("p",[e._v("通配符证书需添加root域名(不含www，如codedocs.io)。")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("codedocs.io\n*.codedocs.io\n")])])])])},[],!1,null,null,null);v.default=_.exports}}]);